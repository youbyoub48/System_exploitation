from PySide2 import QtWidgets, QtGui, QtCore
from PIL import Image, ImageOps

class MainWindow(QtWidgets.QWidget):
    def __init__(self):
        super().__init__()

        self.setup_ui()

    def setup_ui(self):
        self.create_widgets()
        self.create_layouts()
        self.add_widgets_to_layouts()
        self.setup_connections()

    def create_widgets(self):
        self.label_img = QtWidgets.QLabel()

    def create_layouts(self):
        self.main_layout = QtWidgets.QVBoxLayout(self)
        self.fond_ecran("pexels-simon-berger-1323550.jpg")

    def add_widgets_to_layouts(self):
        self.main_layout.addWidget(self.label_img)
        
    def setup_connections(self):
        pass

    def fond_ecran(self, images):
        image = Image.open(images)
        size = (800, 600)
        image = ImageOps.fit(image, size, Image.ANTIALIAS)
        image.save("rezize.jpeg", "JPEG")
        img = QtGui.QPixmap("rezize.jpeg")
        self.label_img.setPixmap(img)
        self.label_img.setGeometry(QtCore.QRect(10, 40, img.width(), img.height()))
        self.resize(img.width(), img.height())