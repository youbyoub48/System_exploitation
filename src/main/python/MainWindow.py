from PySide2 import QtWidgets, QtGui, QtCore
from PIL import Image, ImageOps
from screeninfo import get_monitors

from BackgroundWindow import Ui_MainWindow

class MainWindow(QtWidgets.QMainWindow, Ui_MainWindow):
    def __init__(self):
        self.screen_info()
        self.fond_ecran("pexels-simon-berger-1323550.jpg")
        super(MainWindow, self).__init__()
        self.setupUi(self)

        self.setup_ui()

    def setup_ui(self):
        self.create_widgets()
        self.create_layouts()
        self.add_widgets_to_layouts()
        self.setup_connections()

    def create_widgets(self):
        pass

    def create_layouts(self):
        self.main_layout = QtWidgets.QVBoxLayout(self)

    def add_widgets_to_layouts(self):
        pass
        
    def setup_connections(self):
        pass

    def fond_ecran(self, images):
        image = Image.open(images)
        size = (self.ecran.width, self.ecran.height)
        image = ImageOps.fit(image, size, Image.ANTIALIAS)
        image.save("resize.jpeg", "JPEG")
    
    def screen_info(self):
        list_ecran = get_monitors()
        self.ecran = list_ecran[0]
